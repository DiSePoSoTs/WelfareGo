[#ftl]
<!-- Generated by FTL -->
[#include 'variables.html']
<script type="text/javascript">
	
	${ns}.config.refreshTaskList=${refreshTaskList!'false'};
	${ns}.data.stores['combo.uot']=${comboUot};
	${ns}.data.stores['combo.assistente']=${comboAssist};
    ${ns}.data.stores['combo.po']=${comboPo};
    ${ns}.data.stores['combo.attivita']=${comboAttivita};
    ${ns}.data.stores['combo.interventi']=${comboInterventi};

	${gns}.removeTaskFromList=function(taskId){
		log('removing record from task list : '+taskId);
		var store=Ext.getCmp('wtl_task_list_grid').getStore();
		var recordNum=store.find('id',new RegExp('^'+taskId+'$'));
		if(recordNum!=-1){
			store.removeAt(recordNum);
			log('removed record from task list : '+taskId);
		}else{
			log('not found : '+taskId)
		}
	}

	${gns}.utils.scrollToTasklist=function(){
		var taskList=Ext.get('${ns}_task_panel');
		if(taskList){
			window.scrollTo(taskList.getX()-75,taskList.getY()-75);
		}
	}	

	Ext.application({
		name: '${ns}',
		appFolder: '${nsFilterPath}/${ns}/app',
		controllers: ['TaskListController','AgendaController'],
		launch: function() {
			Ext.create('${ns}.view.tasklist_container.TaskListContainer', {
				renderTo:'${ns}_task_panel'
				//,autoScroll: true
			});
		}
	});
</script>
<div id="${ns}_task_panel" class="wfTasklistPortletContent"></div>
<!-- Generated by FTL -->